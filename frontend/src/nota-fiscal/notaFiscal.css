/* =================================================================== */
/* ---             MEDIA QUERIES PARA RESPONSIVIDADE               --- */
/* =================================================================== */

/* Aplica estes estilos em telas com largura máxima de 768px (tablets e celulares) */
@media (max-width: 768px) {

    /* --- Layout Principal --- */
    .nf-page-wrapper {
        /* Muda o grid de duas colunas para uma única coluna */
        grid-template-columns: 1fr;
        padding: 16px; /* Reduz o espaçamento nas laterais */
        gap: 16px;     /* Reduz o espaçamento entre os cards */
    }

    /* --- Ajustes nos Cards e Títulos --- */
    .nf-card {
        padding: 16px; /* Reduz o padding interno dos cards */
    }
    .nf-card-title {
        font-size: 1.25rem; /* Diminui um pouco o tamanho do título */
        padding-bottom: 12px;
    }

    /* --- Ajustes nos Formulários --- */
    .date-form-grid,
    .info-grid {
        /* Também transforma grids internos em uma única coluna */
        grid-template-columns: 1fr;
    }
    .info-grid {
        gap: 12px; /* Aumenta um pouco o espaçamento vertical na visualização de coluna única */
    }


    /* --- A MÁGICA: Transformando as Tabelas em "Cards" --- */

    /* 1. Esconde o cabeçalho original da tabela (thead) */
    .items-table thead {
        display: none;
    }

    /* 2. Transforma cada linha (tr) em um bloco que parece um card */
    .items-table tr {
        display: block;
        border: 1px solid var(--db-border-color);
        border-radius: 8px;
        margin-bottom: 16px;
        padding: 8px;
    }
    .items-table tr:last-child {
        margin-bottom: 0;
    }

    /* 3. Transforma cada célula (td) para empilhar verticalmente */
    .items-table td {
        display: flex; /* Usamos flexbox para alinhar o label e o valor */
        justify-content: space-between; /* Label à esquerda, valor à direita */
        align-items: center;
        padding: 10px 4px;
        border-bottom: 1px dashed rgba(59, 62, 71, 0.5); /* Linha divisória sutil */
        text-align: right; /* Alinha o conteúdo da célula (o valor) à direita */
    }
    .items-table td:last-child {
        border-bottom: none; /* Remove a borda da última célula de cada "card" */
    }

    /* 4. Adiciona os labels (textos do cabeçalho) antes de cada dado usando um pseudo-elemento */
    .items-table td::before {
        font-weight: 500;
        color: var(--db-text-label);
        text-align: left;
        margin-right: 16px; /* Espaço entre o label e o valor */
    }

    /* --- Labels específicos para a tabela de DETALHES DA NOTA (4 colunas) --- */
    .results-container .items-table tr td:nth-of-type(1)::before { content: 'Produto:'; }
    .results-container .items-table tr td:nth-of-type(2)::before { content: 'Qtd:'; }
    .results-container .items-table tr td:nth-of-type(3)::before { content: 'Vl. Unit.:'; }
    .results-container .items-table tr td:nth-of-type(4)::before { content: 'Total:'; }

    /* --- Labels específicos para a tabela de LISTA DE NOTAS (5 colunas) --- */
    /* Usamos :has() para selecionar a linha que contém a coluna de ação */
    .items-table tbody tr:has(.action-col) td:nth-of-type(1)::before { content: 'Nº Nota:'; }
    .items-table tbody tr:has(.action-col) td:nth-of-type(2)::before { content: 'Data:'; }
    .items-table tbody tr:has(.action-col) td:nth-of-type(3)::before { content: 'Obra:'; }
    .items-table tbody tr:has(.action-col) td:nth-of-type(4)::before { content: 'Valor:'; }

    /* 5. Estiliza a célula de ação de forma especial */
    .items-table .action-col {
        justify-content: center;
        padding: 12px 0 4px 0; /* Ajusta padding para o botão */
    }
    .items-table .action-col::before {
        display: none; /* A célula de ação não precisa de label */
    }
    .items-table .action-col .btn {
        width: 100%; /* Faz o botão ocupar a largura toda do "card" */
        background-color: var(--db-accent-danger);
        color: white;
    }

    /* --- Ajustes no Modal --- */
    .modal-content {
        width: 95%; /* Garante que o modal não toque as bordas da tela */
    }
}