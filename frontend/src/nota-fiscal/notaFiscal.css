/* --- Variáveis Globais --- */
:root {
    --db-bg-main: #1C1D21;
    --db-bg-card: #2A2D35;
    --db-bg-interactive: #3B3E47;
    --db-text-primary: #F0F2F5;
    --db-text-label: #A9B1C2;
    --db-accent-primary: #2DD4BF;
    --db-accent-danger: #F47174;
    --db-border-color: #3B3E47;
    --db-border-radius: 12px;
    --db-font-main: 'Inter', sans-serif;
}

/* --- Layout Principal --- */
.nf-page-wrapper.single-column {
    display: block; /* Remove o grid para uma única coluna fluida */
    max-width: 900px; /* Limita a largura em telas grandes para melhor legibilidade */
    margin: 0 auto; /* Centraliza a coluna */
    padding: 24px;
    font-family: var(--db-font-main);
    background-color: var(--db-bg-main);
}

/* --- Card Principal e Formulários --- */
.nf-card {
    background-color: var(--db-bg-card);
    border-radius: var(--db-border-radius);
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 24px; /* Aumenta o espaçamento entre os elementos */
}
.nf-card-title {
    font-size: 1.5rem; font-weight: 600; color: var(--db-text-primary);
    margin: 0; padding-bottom: 16px; border-bottom: 1px solid var(--db-border-color);
}
.form-group label {
    display: block; font-size: 0.875rem; font-weight: 500;
    color: var(--db-text-label); margin-bottom: 8px;
}
.form-input {
    width: 100%; padding: 12px 16px; font-size: 0.95rem; color: var(--db-text-primary);
    background-color: var(--db-bg-main); border: 1px solid var(--db-border-color);
    border-radius: 8px; outline: none; transition: border-color 0.2s; box-sizing: border-box;
}
.form-input:focus { border-color: var(--db-accent-primary); }
.date-form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }

/* --- Botões --- */
.btn {
    padding: 12px 20px; font-size: 0.95rem; font-weight: 600; border: none;
    border-radius: 8px; cursor: pointer; transition: 0.2s;
    display: inline-flex; align-items: center; justify-content: center;
}
.btn:disabled { opacity: 0.5; cursor: not-allowed; }
.btn-primary { background-color: var(--db-accent-primary); color: #1C1D21; }
.btn-primary:hover:not(:disabled) { background-color: #5EEAD4; }
.btn-full-width { width: 100%; }

.btn-icon-only {
    background-color: transparent;
    border: 1px solid var(--db-bg-interactive);
    color: var(--db-text-label);
    padding: 0; width: 38px; height: 38px; border-radius: 50%;
}
.btn-icon-only:hover:not(:disabled) {
    background-color: var(--db-bg-interactive);
    color: var(--db-text-primary);
}
.btn-icon-only.btn-danger-outline:hover:not(:disabled) {
    border-color: var(--db-accent-danger);
    background-color: rgba(244, 113, 116, 0.1);
    color: var(--db-accent-danger);
}
.btn-icon { width: 18px; height: 18px; }

/* --- NOVA LISTA DE NOTAS --- */
.nf-list-container {
    display: flex; flex-direction: column; gap: 12px;
}
.nf-list-item {
    background-color: var(--db-bg-main);
    border-radius: var(--db-border-radius);
    border: 1px solid transparent;
    transition: all 0.2s ease-in-out;
}
.nf-list-item.expanded {
    border-color: var(--db-border-color);
    background-color: var(--db-bg-card); /* Fica igual ao card pai */
}
.nf-item-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 16px; gap: 16px; cursor: pointer;
}
.nf-item-info {
    display: flex; align-items: center; gap: 24px;
}
.nf-item-numero { font-weight: 600; color: var(--db-text-primary); font-size: 1rem; }
.nf-item-data { font-size: 0.875rem; color: var(--db-text-label); }
.nf-item-valor { font-weight: 500; font-size: 1.1rem; color: var(--db-accent-primary); }
.nf-item-actions { display: flex; gap: 8px; }
.nf-item-details-wrapper {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-out, padding 0.4s ease-out;
}
.nf-list-item.expanded .nf-item-details-wrapper {
    max-height: 2000px; /* Altura máxima para permitir o conteúdo */
    transition: max-height 0.5s ease-in;
}
.invoice-details-content {
    padding: 24px;
    border-top: 1px solid var(--db-border-color);
}
.details-feedback { padding: 30px; text-align: center; color: var(--db-text-label); font-style: italic; }

/* --- Detalhes Internos (Tabela, etc.) --- */
.info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px 16px; margin-bottom: 16px; }
.info-grid p { margin: 0; }
.items-table-title { font-size: 1.1rem; color: var(--db-text-primary); margin: 24px 0 12px 0; }
.items-table { width: 100%; border-collapse: collapse; }
.items-table th, .items-table td { padding: 10px 8px; text-align: left; border-bottom: 1px solid var(--db-border-color); }
.items-table th { font-size: 0.75rem; color: var(--db-text-label); text-transform: uppercase; }
.items-table td { font-size: 0.9rem; }
.items-table .text-right { text-align: right; }

/* --- Mensagens e Modais (sem alterações) --- */
/* ... Seus estilos de feedback-message e modal ... */

/* --- RESPONSIVIDADE --- */
@media (max-width: 768px) {
    .nf-page-wrapper.single-column, .nf-card { padding: 16px; }
    .date-form-grid { grid-template-columns: 1fr; }
    .nf-item-info { flex-direction: column; align-items: flex-start; gap: 4px; }
    .nf-item-valor { font-size: 1rem; }
    .items-table thead { display: none; }
    .items-table tr { display: block; padding: 8px 0; }
    .items-table td { display: flex; justify-content: space-between; padding: 10px 0; }
    .items-table td::before { content: attr(data-label); font-weight: 500; color: var(--db-text-label); }
}